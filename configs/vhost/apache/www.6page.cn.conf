<VirtualHost *:80>
    ServerAdmin webmaster@example.com
    DocumentRoot "/www/wwwroot/www.6page.cn/public"
    ServerName 6295a17a.www.6page.cn
    ServerAlias www.6page.cn 6page.cn
    #errorDocument 404 /404.html
    ErrorLog "/www/wwwlogs/www.6page.cn-error_log"
    CustomLog "/www/wwwlogs/www.6page.cn-access_log" combined
    #HTTP_TO_HTTPS_START
    <IfModule mod_rewrite.c>
        RewriteEngine on
        RewriteCond %{SERVER_PORT} !^443$
        RewriteRule (.*) https://%{SERVER_NAME}$1 [L,R=301]
    </IfModule>
    #HTTP_TO_HTTPS_END
	#引用反向代理规则，注释后配置的反向代理将无效
	
	IncludeOptional /www/server/panel/vhost/apache/proxy/www.6page.cn/*.conf

    #DENY FILES
     <Files ~ (\.user.ini|\.htaccess|\.git|\.env|\.svn|\.project|LICENSE|README.md)$>
       Order allow,deny
       Deny from all
    </Files>
    
    #PHP
    <FilesMatch \.php$>
            SetHandler "proxy:unix:/tmp/php-cgi-74.sock|fcgi://localhost"
    </FilesMatch>
    
    #PATH
    <Directory "/www/wwwroot/www.6page.cn/public">
        SetOutputFilter DEFLATE
        Options FollowSymLinks
        AllowOverride All
        Require all granted
        DirectoryIndex index.php index.html index.htm default.php default.html default.htm
    </Directory>
</VirtualHost>
<VirtualHost *:443>
    ServerAdmin webmaster@example.com
    DocumentRoot "/www/wwwroot/www.6page.cn/public/"
    ServerName SSL.www.6page.cn
    ServerAlias www.6page.cn 6page.cn 
    #errorDocument 404 /404.html
    ErrorLog "/www/wwwlogs/www.6page.cn-error_log"
    CustomLog "/www/wwwlogs/www.6page.cn-access_log" combined
	#引用反向代理规则，注释后配置的反向代理将无效
	
	IncludeOptional /www/server/panel/vhost/apache/proxy/www.6page.cn/*.conf
    
    #SSL
    SSLEngine On
    SSLCertificateFile /www/server/panel/vhost/cert/www.6page.cn/fullchain.pem
    SSLCertificateKeyFile /www/server/panel/vhost/cert/www.6page.cn/privkey.pem
    SSLCipherSuite EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+AES128:RSA+AES128:EECDH+AES256:RSA+AES256:EECDH+3DES:RSA+3DES:!MD5:ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
    SSLProtocol All -SSLv2 -SSLv3 -TLSv1
    SSLHonorCipherOrder On
    
    
    #PHP
    <FilesMatch \.php$>
            SetHandler "proxy:unix:/tmp/php-cgi-74.sock|fcgi://localhost"
    </FilesMatch>
    

    #DENY FILES
     <Files ~ (\.user.ini|\.htaccess|\.git|\.env|\.svn|\.project|LICENSE|README.md)$>
       Order allow,deny
       Deny from all
    </Files>

    #PATH
    <Directory "/www/wwwroot/www.6page.cn/public/">
        SetOutputFilter DEFLATE
        Options FollowSymLinks
        AllowOverride All
        Require all granted
        DirectoryIndex index.php index.html index.htm default.php default.html default.htm
    </Directory>
</VirtualHost>